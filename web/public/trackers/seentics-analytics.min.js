!function(e,t){"use strict";var r=e.SEENTICS_CORE;if(r){var i={pageViewId:null,pageLoadTime:Date.now(),scrollDepth:0,timeOnPage:0,initialized:!1},n=function(){i.pageViewId=r.utils.generateId();var e=r.page.getCurrentPage();r.queue.add({event_type:"pageview",event_name:"page_view",page_view_id:i.pageViewId,page_url:e.url,page:e.path,page_title:e.title,referrer:e.referrer,screen_width:e.screen.width,screen_height:e.screen.height,viewport_width:e.viewport.width,viewport_height:e.viewport.height,user_agent:navigator.userAgent,language:navigator.language}),r.emit("analytics:pageview",{pageViewId:i.pageViewId,url:e.url,path:e.path,title:e.title,referrer:e.referrer})},a=function(t,n){r.queue.add({event_type:t,page_view_id:i.pageViewId,page_url:e.location.href,page:e.location.pathname,properties:n||{}}),r.emit("analytics:event",{eventName:t,properties:n||{}})},o=function(e,t){a("click",Object.assign({element_tag:e.tagName.toLowerCase(),element_id:e.id||null,element_class:e.className||null,element_text:(e.textContent||"").substring(0,100)||null},t||{}))},c=r.utils.debounce(function(){var r=t.documentElement.scrollHeight-e.innerHeight;if(!(r<=0)){var n=Math.round(e.scrollY/r*100);n>i.scrollDepth&&(i.scrollDepth=n,50!==n&&100!==n||a("scroll_depth",{depth:n}))}},500),s=function(){i.timeOnPage=Math.round((Date.now()-i.pageLoadTime)/1e3)},l=["buy","purchase","checkout","add to cart","add to bag","subscribe","sign up","signup","register","join","get started","start free","try free","free trial","download","install","get now","contact","request","demo","schedule","upgrade","pro","premium","pricing","submit","send","confirm","complete","book","reserve","order","learn more","view plans","see pricing"],u=["cta","call-to-action","primary-button","action-button","add-cart","add-to-cart","buy-button","purchase","checkout","subscribe","signup","register","submit","download","pricing","plan","upgrade","pro","premium"],d=["/checkout","/cart","/basket","/signup","/register","/join","/pricing","/plans","/upgrade","/demo","/contact","/trial","/download","/subscribe"],p=[/password/i,/credit[_-]?card/i,/cc[_-]?number/i,/cvv/i,/ssn/i,/social[_-]?security/i,/routing[_-]?number/i,/account[_-]?number/i,/pin/i,/tax[_-]?id/i],g=function(){i.initialized||(i.initialized=!0,function(){var g;n(),(g=r.config.goals)&&Array.isArray(g)&&g.forEach(function(e){e.selector&&t.addEventListener("click",function(t){var r=t.target.closest(e.selector);r&&a(e.name,{goal_id:e.id,trigger:"selector_match",selector:e.selector,text:(r.textContent||"").substring(0,50).trim()})},!0)}),t.addEventListener("click",function(e){var t=e.target.closest('a, button, [role="button"]');t&&(t.hasAttribute("data-track")||t.hasAttribute("data-track-click")||t.classList.contains("track-click")||function(e){if(!e)return!1;var t=(e.textContent||"").toLowerCase().trim(),r=(e.id||"").toLowerCase(),i=(e.className||"").toLowerCase(),n=(e.href||"").toLowerCase();return l.some(function(e){return t.includes(e)})||u.some(function(e){return i.includes(e)||r.includes(e)})||d.some(function(e){return n.includes(e)})||"submit"===e.type||"BUTTON"===e.tagName&&e.closest("form")}(t))&&o(t)},!0),t.addEventListener("submit",function(e){var t=e.target,r=t.querySelectorAll("input, select, textarea"),i=t.id||"",n=t.className||"",o=(t.action||"").toLowerCase(),c="generic";["contact","signup","subscribe","checkout","login","search"].forEach(function(e){(i.includes(e)||n.includes(e)||o.includes(e))&&(c="subscribe"===e?"newsletter":e)});var s={};r.forEach(function(e){var t=e.name||e.id||e.tagName.toLowerCase();"password"===e.type||p.some(function(e){return e.test(t)})||("checkbox"===e.type||"radio"===e.type?e.checked&&(s[t]=e.value):s[t]=e.value)}),a("form_submission",{form_id:t.id||null,form_action:t.action||null,form_name:t.name||null,form_type:c,field_count:r.length,form_data:s})},!0),t.querySelectorAll("video").forEach(function(e){var t=new Set;e.addEventListener("play",function(){a("video_play",{video_src:e.currentSrc,video_time:Math.round(e.currentTime)})}),e.addEventListener("timeupdate",function(){var r=Math.round(e.currentTime/e.duration*100);[25,50,75,100].forEach(function(i){r>=i&&!t.has(i)&&(t.add(i),a("video_progress",{video_src:e.currentSrc,milestone:i}))})}),e.addEventListener("ended",function(){a("video_complete",{video_src:e.currentSrc})})}),t.addEventListener("click",function(e){var t=e.target.closest("img");if(t){var r=t.closest('.product, [class*="product"]')?"product":t.closest('.gallery, [class*="gallery"]')?"gallery":t.closest('.hero, [class*="hero"]')?"hero":null;r&&a("image_click",{image_src:t.src,image_alt:t.alt||null,context:r})}},!0),e.addEventListener("scroll",c,{passive:!0}),setInterval(s,1e3),e.addEventListener("beforeunload",function(){s(),a("page_exit",{time_on_page:i.timeOnPage,scroll_depth:i.scrollDepth})});var m=e.location.pathname,h=function(){e.location.pathname!==m&&(m=e.location.pathname,i.pageLoadTime=Date.now(),i.scrollDepth=0,i.timeOnPage=0,n())},f=history.pushState,v=history.replaceState;history.pushState=function(){f.apply(this,arguments),h()},history.replaceState=function(){v.apply(this,arguments),h()},e.addEventListener("popstate",h)}())};r.isReady&&r.isReady()?g():r.on("core:ready",g),e.seentics=e.seentics||{},e.seentics.analytics={track:a,trackPageView:n,trackClick:o,getPageViewId:function(){return i.pageViewId},getTimeOnPage:function(){return i.timeOnPage},getScrollDepth:function(){return i.scrollDepth}}}else console.error("[Seentics Analytics] Core not loaded.")}(window,document);