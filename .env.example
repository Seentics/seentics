# =============================================================================
# SEENTICS ANALYTICS PLATFORM - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this to .env for local development
# For production, use secure secret management instead of hardcoded values

# =============================================================================
# DEPLOYMENT MODE
# =============================================================================
# Set to 'false' for open source mode (unlimited usage, no billing)
# Set to 'true' for cloud/SaaS mode (with billing and usage limits)
CLOUD_ENABLED=false

# =============================================================================
# APPLICATION URLS
# =============================================================================
ENVIRONMENT=development
NODE_ENV=development
FRONTEND_URL=http://localhost:3000
API_URL=http://localhost:8080
GATEWAY_URL=http://localhost:8080
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# SERVICE PORTS & URLS
# =============================================================================
API_GATEWAY_PORT=8080
GATEWAY_PORT=8080
GATEWAY_HOST=0.0.0.0

# Inter-service communication URLs
# Used by Gateway to proxy analytics
ANALYTICS_SERVICE_URL=http://analytics-service:3002
# Used by Analytics to call Gateway for usage/user info
USER_SERVICE_URL=http://api-gateway:8080

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# JWT secrets (use strong, unique keys in production)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-refresh-secret-key-here-make-it-different-from-jwt-secret
JWT_EXPIRE=7d
JWT_REFRESH_EXPIRE=30d

# Global API key for inter-service communication (change in production)
GLOBAL_API_KEY=your-global-api-key-for-service-communication

# Admin access code for admin dashboard (Legacy/Frontend)
ADMIN_CODE=admin123
# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# --- PostgreSQL / TimescaleDB (Analytics Data) ---
POSTGRES_USER=seentics
POSTGRES_PASSWORD=seentics_postgres_pass
POSTGRES_DB=seentics_analytics
# ANALYTICS_DATABASE_URL used by analytics service
ANALYTICS_DATABASE_URL=postgresql://seentics:seentics_postgres_pass@postgres:5432/seentics_analytics?sslmode=disable

# --- PostgreSQL (Gateway/User Data) ---
GATEWAY_DB_USER=seentics
GATEWAY_DB_PASSWORD=seentics_gateway_pass
GATEWAY_DB_NAME=seentics_gateway
# GATEWAY_DATABASE_URL used by gateway service
GATEWAY_DATABASE_URL=postgresql://seentics:seentics_gateway_pass@gateway-db:5432/seentics_gateway?sslmode=disable

# =============================================================================
# REDIS CONFIGURATION (Caching & Sessions)
# =============================================================================
REDIS_URL=redis://:seentics_redis_pass@redis:6379
REDIS_PASSWORD=seentics_redis_pass
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# GEOLOCATION SERVICES
# =============================================================================

# MaxMind GeoIP2 Configuration (Optional but recommended for production)
# Get a free license key from: https://www.maxmind.com/en/geolite2/signup
MAXMIND_LICENSE_KEY=your_maxmind_license_key_here
MAXMIND_DB_PATH=/data/GeoLite2-City.mmdb

# =============================================================================
# EMAIL SERVICES (Workflows)
# =============================================================================

# Resend.com Configuration (for email workflows)
RESEND_API_KEY=your-resend-api-key
RESEND_FROM=noreply@yourdomain.com

# =============================================================================
# OAUTH CONFIGURATION (Internal Gateway Handlers)
# =============================================================================
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# =============================================================================
# PAYMENT INTEGRATION (Cloud Mode Only - Configure in production)
# =============================================================================
# LemonSqueezy Configuration (for billing when CLOUD_ENABLED=true)
# Configure these in production environment only
# LEMONSQUEEZY_API_KEY=your-lemon-squeezy-api-key
# LEMONSQUEEZY_WEBHOOK_SECRET=your-lemon-squeezy-webhook-secret
# LEMONSQUEEZY_STORE_ID=your-store-id
# LEMONSQUEEZY_STANDARD_VARIANT_ID=your-standard-variant-id
# LEMONSQUEEZY_PRO_VARIANT_ID=your-pro-variant-id

# =============================================================================
# ANALYTICS CONFIGURATION
# =============================================================================
BATCH_SIZE=1000
BATCH_TIMEOUT=5s
WORKER_COUNT=10

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================
WEBHOOK_HMAC_SECRET=your-webhook-hmac-secret

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Logging
LOG_LEVEL=info

# Debug Mode (development only)
DEBUG_MODE=true

# =============================================================================
# PRODUCTION SETTINGS (Override in production)
# =============================================================================

# In production, ensure these are set to secure values:
# - Change all passwords and secrets
# - Use strong JWT_SECRET (64+ characters)
# - Set ENVIRONMENT=production
# - Use proper SSL certificates
# - Configure proper CORS origins
# - Set up proper monitoring and logging
